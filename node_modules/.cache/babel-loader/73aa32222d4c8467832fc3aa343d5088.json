{"ast":null,"code":"import _classCallCheck from \"/home/bourmeau/workspace/wildbattle/reims-0918-js-wild-battle/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/bourmeau/workspace/wildbattle/reims-0918-js-wild-battle/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/bourmeau/workspace/wildbattle/reims-0918-js-wild-battle/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/bourmeau/workspace/wildbattle/reims-0918-js-wild-battle/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/bourmeau/workspace/wildbattle/reims-0918-js-wild-battle/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/bourmeau/workspace/wildbattle/reims-0918-js-wild-battle/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/bourmeau/workspace/wildbattle/reims-0918-js-wild-battle/src/battle/Countdown.js\";\nimport React from \"react\";\nimport { Col } from \"reactstrap\";\nimport \"./AnimationCountdown.css\";\nimport BattleContext from \"../battle_context/BattleContext\";\nexport var Countdown =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Countdown, _React$Component);\n\n  function Countdown(props) {\n    var _this;\n\n    _classCallCheck(this, Countdown);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Countdown).call(this, props));\n    _this.state = {\n      sec: 3\n    };\n    _this.countdown = _this.countdown.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.calculateCountdown = _this.calculateCountdown.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Countdown, [{\n    key: \"countdown\",\n    value: function countdown() {\n      var _this2 = this;\n\n      this.interval = setInterval(function () {\n        var date = _this2.calculateCountdown(_this2.props.date);\n\n        date ? _this2.setState(date) : _this2.stop();\n      }, 1000);\n    }\n  }, {\n    key: \"calculateCountdown\",\n    value: function calculateCountdown() {\n      var diff = this.state.sec;\n      var timeLeft = {\n        sec: 0\n      };\n      diff -= 1;\n      timeLeft.sec = diff;\n\n      if (diff === 0) {\n        this.stop();\n      }\n\n      return timeLeft;\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      clearInterval(this.interval);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.countdown();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var countDown = this.state;\n      return React.createElement(Col, {\n        className: \"my-auto text-center\",\n        xs: \"12\",\n        md: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, countDown.sec > 0 && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        className: \"pulsate-css FontBangers\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, countDown.sec)), countDown.sec === 0 && React.createElement(BattleContext, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, function (battleContext) {\n        return React.createElement(\"h3\", {\n          className: \"FontBangers fight\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          onClick: function onClick() {\n            return battleContext.initialisationAndStartCombat();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, \"FIGHT\"));\n      }));\n    }\n  }]);\n\n  return Countdown;\n}(React.Component);\nexport default Countdown;","map":{"version":3,"sources":["/home/bourmeau/workspace/wildbattle/reims-0918-js-wild-battle/src/battle/Countdown.js"],"names":["React","Col","BattleContext","Countdown","props","state","sec","countdown","bind","calculateCountdown","interval","setInterval","date","setState","stop","diff","timeLeft","clearInterval","countDown","battleContext","initialisationAndStartCombat","Component"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,QAAoB,YAApB;AACA,OAAO,0BAAP;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AAEA,WAAaC,SAAb;AAAA;AAAA;AAAA;;AACE,qBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,mFAAMA,KAAN;AAEA,UAAKC,KAAL,GAAa;AACXC,MAAAA,GAAG,EAAE;AADM,KAAb;AAGA,UAAKC,SAAL,GAAiB,MAAKA,SAAL,CAAeC,IAAf,uDAAjB;AACA,UAAKC,kBAAL,GAA0B,MAAKA,kBAAL,CAAwBD,IAAxB,uDAA1B;AAPiB;AAQlB;;AATH;AAAA;AAAA,gCAWc;AAAA;;AACV,WAAKE,QAAL,GAAgBC,WAAW,CAAC,YAAM;AAChC,YAAMC,IAAI,GAAG,MAAI,CAACH,kBAAL,CAAwB,MAAI,CAACL,KAAL,CAAWQ,IAAnC,CAAb;;AACAA,QAAAA,IAAI,GAAG,MAAI,CAACC,QAAL,CAAcD,IAAd,CAAH,GAAyB,MAAI,CAACE,IAAL,EAA7B;AACD,OAH0B,EAGxB,IAHwB,CAA3B;AAID;AAhBH;AAAA;AAAA,yCAkBuB;AACnB,UAAIC,IAAI,GAAG,KAAKV,KAAL,CAAWC,GAAtB;AACA,UAAMU,QAAQ,GAAG;AACfV,QAAAA,GAAG,EAAE;AADU,OAAjB;AAGAS,MAAAA,IAAI,IAAI,CAAR;AACAC,MAAAA,QAAQ,CAACV,GAAT,GAAeS,IAAf;;AACA,UAAIA,IAAI,KAAK,CAAb,EAAgB;AACd,aAAKD,IAAL;AACD;;AACD,aAAOE,QAAP;AACD;AA7BH;AAAA;AAAA,2BA+BS;AACLC,MAAAA,aAAa,CAAC,KAAKP,QAAN,CAAb;AACD;AAjCH;AAAA;AAAA,wCAmCsB;AAClB,WAAKH,SAAL;AACD;AArCH;AAAA;AAAA,6BAuCW;AACP,UAAMW,SAAS,GAAG,KAAKb,KAAvB;AAEA,aACE,oBAAC,GAAD;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAqC,QAAA,EAAE,EAAC,IAAxC;AAA6C,QAAA,EAAE,EAAC,GAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGa,SAAS,CAACZ,GAAV,GAAgB,CAAhB,IACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAQ,QAAA,SAAS,EAAC,yBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA6CY,SAAS,CAACZ,GAAvD,CADF,CAFJ,EAMGY,SAAS,CAACZ,GAAV,KAAkB,CAAlB,IACC,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,UAAAa,aAAa;AAAA,eACZ;AAAI,UAAA,SAAS,EAAC,mBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AACE,UAAA,OAAO,EAAE;AAAA,mBAAMA,aAAa,CAACC,4BAAd,EAAN;AAAA,WADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,CADY;AAAA,OADhB,CAPJ,CADF;AAsBD;AAhEH;;AAAA;AAAA,EAA+BpB,KAAK,CAACqB,SAArC;AAmEA,eAAelB,SAAf","sourcesContent":["import React from \"react\";\nimport { Col } from \"reactstrap\";\nimport \"./AnimationCountdown.css\";\nimport BattleContext from \"../battle_context/BattleContext\";\n\nexport class Countdown extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      sec: 3\n    };\n    this.countdown = this.countdown.bind(this);\n    this.calculateCountdown = this.calculateCountdown.bind(this);\n  }\n\n  countdown() {\n    this.interval = setInterval(() => {\n      const date = this.calculateCountdown(this.props.date);\n      date ? this.setState(date) : this.stop();\n    }, 1000);\n  }\n\n  calculateCountdown() {\n    let diff = this.state.sec;\n    const timeLeft = {\n      sec: 0\n    };\n    diff -= 1;\n    timeLeft.sec = diff;\n    if (diff === 0) {\n      this.stop();\n    }\n    return timeLeft;\n  }\n\n  stop() {\n    clearInterval(this.interval);\n  }\n\n  componentDidMount() {\n    this.countdown();\n  }\n\n  render() {\n    const countDown = this.state;\n\n    return (\n      <Col className=\"my-auto text-center\" xs=\"12\" md=\"4\">\n        {countDown.sec > 0 && (\n          <div>\n            <strong className=\"pulsate-css FontBangers\">{countDown.sec}</strong>\n          </div>\n        )}\n        {countDown.sec === 0 && (\n          <BattleContext>\n            {battleContext => (\n              <h3 className=\"FontBangers fight\">\n                <span\n                  onClick={() => battleContext.initialisationAndStartCombat()}\n                >\n                  FIGHT\n                </span>\n              </h3>\n            )}\n          </BattleContext>\n        )}\n      </Col>\n    );\n  }\n}\n\nexport default Countdown;\n"]},"metadata":{},"sourceType":"module"}